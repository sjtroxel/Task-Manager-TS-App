<div class="min-h-[80vh] flex items-center justify-center p-4">
  <div class="bg-card border border-accent-2 rounded-2xl shadow-card w-full max-w-md p-8">
    <div class="flex mb-8 border-b-2 border-accent-2">
      <button class="auth-tab-btn" [class.active]="authMode() === 'login'" (click)="authMode.set('login')">Login</button>
      <button class="auth-tab-btn" [class.active]="authMode() === 'signup'" (click)="authMode.set('signup')">Sign Up</button>
    </div>

    @if (authMode() === 'login') {
      <h2 class="text-accent text-center mb-6">Welcome Back!</h2>
      <form (submit)="onLogin(); $event.preventDefault()">

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" [(ngModel)]="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-with-eye">
            <input id="password" [type]="showPassword() ? 'text' : 'password'" [(ngModel)]="password" name="password" required>
            <button type="button" (click)="showPassword.set(!showPassword())" class="eye-btn"
              [attr.aria-label]="showPassword() ? 'Hide password' : 'Show password'">
              <lucide-icon [name]="showPassword() ? 'eye-off' : 'eye'"></lucide-icon>
            </button>
          </div>
        </div>

        <div class="mb-4">
          <a href="javascript:void(0)" (click)="showForgotPassword.set(!showForgotPassword())">
            Forgot Password?
          </a>
          @if (showForgotPassword()) {
            <div>
              <p>Please contact Strawberry or an admin to reset your password. We don't have an email server yet!</p>
            </div>
          }
        </div>

        @if (errorMessage()) {
          <p class="text-danger mb-4">{{ errorMessage() }}</p>
        }

        <button type="submit"
          class="w-full bg-accent text-white p-3.5 border-0 rounded-lg font-bold cursor-pointer mt-4 shadow-card transition-transform duration-200 hover:-translate-y-0.5"
          aria-label="Sign in">Login</button>
      </form>
    } @else {
      <h2 class="text-accent text-center mb-6">Join the Team!</h2>
      <app-signup />
    }
  </div>
</div>
