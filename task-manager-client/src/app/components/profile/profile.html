<div class="profile-container">
  <div class="profile-card">
    <div class="card-header">
      <h2>Account Settings</h2>
      <button class="logout-btn" (click)="onLogout()">Logout</button>
    </div>

    <p class="subtitle">Keep your info fresh and secure.</p>

    <div class="form-group">
      <label for="profile-name">Display Name</label>
      <input id="profile-name" type="text" [ngModel]="newName()" (ngModelChange)="newName.set($event)">
    </div>

    <div class="form-group">
      <label for="profile-email">Email Address</label>
      <input id="profile-email" type="email" [value]="authService.currentUser()?.email" disabled>
    </div>

    <hr class="divider">

    <div class="form-group">
      <label for="profile-new-password">New Password (leave blank to keep current)</label>
      <div class="input-with-eye">
        <input id="profile-new-password" [type]="showNewPass() ? 'text' : 'password'" [(ngModel)]="newPassword">
        <button type="button" (click)="showNewPass.set(!showNewPass())" class="eye-btn">
          <lucide-icon [name]="showNewPass() ? 'eye-off' : 'eye'"></lucide-icon>
        </button>
      </div>
    </div>

    <div class="form-group">
      <label>Confirm New Password</label>
      <div class="input-with-eye">
        <input [type]="showConfirmPass() ? 'text' : 'password'" [(ngModel)]="confirmPassword">
        <button type="button" (click)="showConfirmPass.set(!showConfirmPass())" class="eye-btn">
          <lucide-icon [name]="showConfirmPass() ? 'eye-off' : 'eye'"></lucide-icon>
        </button>
      </div>
    </div>

    @if (message()) {
      <div class="status-message" [class.success]="message().includes('successfully')">
        {{ message() }}
      </div>
    }

    <button class="btn-primary" (click)="updateProfile()">
      Save All Changes
    </button>
  </div>
</div>
